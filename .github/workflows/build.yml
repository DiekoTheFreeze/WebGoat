name: "Main / Pull requests build"
on:
    pull_request:
        paths-ignore:
            - '.txt'
            - 'LICENSE'
            - 'docs/**'
        branches: [ main ]
    push:
        branches:
            - main

jobs:
    pre-commit:
        name: Pre-commit check
        runs-on: ubuntu-latest
        steps:
            -   name: Checkout git repository
                uses: actions/checkout@v4.1.6
            - name: Run Gitleaks scan
              uses: gitleaks/gitleaks-action@v2
              with:
                args: detect --source . --no-git --report-format sarif --report-path gitleaks-report.sarif
